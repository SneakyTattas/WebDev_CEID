<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
            <title>Eco-friendly CEIDades</title> 
        <link  rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300">
        <link rel="stylesheet" href="../css_files/user.css">
        <link rel="shortcut icon" href="../Pictures/tree.ico">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<script src="./lib/prettysize.js"></script>
		<script src="./lib/oboe-browser.min.js"></script>
    </head>
    <body>
        <div class="topnav">
            <a href="./index.html"> <img src="../Pictures/tree.ico"></img> </a>
        </div>
        <div class="tab">
            <button class="tablinks" onclick="openAction(event, 'DataPresentation')" id="default">Data Presentation</button>
            <button class="tablinks" onclick="openAction(event, 'Analysis')">Analysis</button>
            <button class="tablinks" onclick="openAction(event, 'DataUpload')">Data Upload</button>
        </div>

        <div id="DataPresentation" class="tabcontent">
		<script>
		$("#DataPresentation").load("DataPreza.php");
		</script>
        </div>
        <div id="Analysis" class="tabcontent">
            <script>
                    var monthsince;
                    var yearsince;
                    var monthuntil;
                    var yearuntil;
                function showDate(monthsince,yearsince,monthuntil,yearuntil) {
                    if ((monthsince == "" && yearsince == "") || (monthuntil == "" && yearuntil == "")) {
                        document.getElementById("txtHint").innerHTML = "";
                        return;
                    } else {
                        if (window.XMLHttpRequest) {
                            // code for IE7+, Firefox, Chrome, Opera, Safari
                            xmlhttp = new XMLHttpRequest();
                        } else {
                            // code for IE6, IE5
                            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
                        }
                        xmlhttp.onreadystatechange = function() {
                            if (this.readyState == 4 && this.status == 200) {
                                document.getElementById("txtHint").innerHTML = this.responseText;
                            }
                        };
                        xmlhttp.open("GET","Analysis.php?monthsince="+monthsince+"&yearsince="+yearsince+"&monthuntil="+monthuntil+"&yearuntil="+yearuntil,true);
                        xmlhttp.send();
                        xmlhttp.onreadystatechange = function()
                        {
                            if (xmlhttp.readyState == 4 && xmlhttp.status == 200){
                            var response = xmlhttp.responseText;
                            console.log(response);
                            console.log(JSON.parse(response));
                           // document.getElementById("test").innerHTML = response;
                        }
                    }
                        }
                }
                function getForms()
                {
                    monthsince = document.getElementById("monthsince").value;
                    yearsince = document.getElementById("yearsince").value;
                    monthuntil = document.getElementById("monthuntil").value;
                    yearuntil = document.getElementById("yearuntil").value;
                    if(!yearsince && !yearuntil)
                                {
                                    document.getElementById("Submit").disabled = true;
                                }
                                else
                                {document.getElementById("Submit").disabled = false;
                                }
                }
                </script>
            <form>
                <select name="monthsince" id="monthsince" onchange="getForms()">
                  <option value="">Διάλεξε μήνα:</option>
                  <option value="01">Ιανουάριος</option>
                  <option value="02">Φεβρουάριος</option>
                  <option value="03">Μάρτιος</option>
                  <option value="04">Απρίλιος</option>
                  <option value="05">Μάιος</option>
                  <option value="06">Ιούνιος</option>
                  <option value="07">Ιούλιος</option>
                  <option value="08">Αύγουστος</option>
                  <option value="09">Σεπτέμβριος</option>
                  <option value="10">Οκτώβριος</option>
                  <option value="11">Νοέμβριος</option>
                  <option value="12">Δεκέμβριος</option>
                  </select>
                </form>
                <form>
                    <select name="yearsince" id="yearsince" onchange="getForms()">
                      <option value="">Διάλεξε έτος:</option>
                      <option value="2015">2015</option>
                      <option value="2016">2016</option>
                      <option value="2017">2017</option>
                      <option value="2018">2018</option>
                      <option value="2019">2019</option>
                      <option value="2020">2020</option>
                      <option value="2021">2021</option>
                      <option value="2022">2022</option>
                      <option value="2023">2023</option>
                      <option value="2024">2024</option>
                      <option value="2025">2025</option>
                      </select>
                    </form>
                    <form>
                        <select name="monthuntil" id="monthuntil" onchange="getForms()">
                          <option value="">Διάλεξε μήνα:</option>
                          <option value="01">Ιανουάριος</option>
                          <option value="02">Φεβρουάριος</option>
                          <option value="03">Μάρτιος</option>
                          <option value="04">Απρίλιος</option>
                          <option value="05">Μάιος</option>
                          <option value="06">Ιούνιος</option>
                          <option value="07">Ιούλιος</option>
                          <option value="08">Αύγουστος</option>
                          <option value="09">Σεπτέμβριος</option>
                          <option value="10">Οκτώβριος</option>
                          <option value="11">Νοέμβριος</option>
                          <option value="12">Δεκέμβριος</option>
                          </select>
                        </form>
                        <form>
                            <select name="yearuntil" id="yearuntil" onchange="getForms()">
                              <option value="">Διάλεξε έτος:</option>
                              <option value="2015">2015</option>
                              <option value="2016">2016</option>
                              <option value="2017">2017</option>
                              <option value="2018">2018</option>
                              <option value="2019">2019</option>
                              <option value="2020">2020</option>
                              <option value="2021">2021</option>
                              <option value="2022">2022</option>
                              <option value="2023">2023</option>
                              <option value="2024">2024</option>
                              <option value="2025">2025</option>
                              </select>
                            </form>
                            <button name="button" id="Submit" onclick="showDate(monthsince,yearsince,monthuntil,yearuntil)">Submit</button>

                <br>
                <div id="txtHint"><b>Person info will be listed here...</b></div>
                <div id="test"> 
                </div>
            <h3>Analysis</h3>
            <p> EEdw tha vrisketai h analysh twn stoixeiwn tou</p>
        </div>
        <div id="DataUpload" class="tabcontent">
		<script>
			$("#DataUpload").load("./UploadMap.html");
			$(".tablinks").on("click", function(){
				map.invalidateSize();
				});
		</script>
        </div>
        <script src="./tab_switch.js"></script>
		<script>
		document.getElementById("default").click();
		</script>
    </body>